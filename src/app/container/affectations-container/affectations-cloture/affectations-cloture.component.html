<div class="container d-flex justify-center">
   <h2>Clôture d'une affectation</h2>
</div>

<div class="col-sm-8 col-sm-offset-2">

   <form (ngSubmit)="clotureAffectation(dataClotureAffectation.value)" [formGroup]="dataClotureAffectation">

      <div>
         <label for="numeroAffectationRecu"><strong>Numéro Affectation sélectionné pour la clôture: </strong></label>
         <span> <strong> {{ numeroAffectationRecu }} </strong></span>

      </div>

      <!-- <form (ngSubmit)="clotureAffectation(dataClotureAffectation)"  [formGroup]="dataClotureAffectation" > -->

      <div class="form-goup">
         <label for="commentaire"><strong>Commentaire de clôture</strong></label>
         <input [class.isInvalid]="dataClotureAffectation.controls.commentaire.dirty && dataClotureAffectation.controls.commentaire.errors ||
                                  dataClotureAffectation.controls.commentaire.touched" type="text" class="form-control"
            formControlName="commentaire" placeholder="Saisir un commentaire de clôture">
      </div>

      <div class="form-group">
         <label><strong>Motif de fin de clôture</strong></label>

         <select [class.isInvalid]="dataClotureAffectation.controls.motifFin.dirty && dataClotureAffectation.controls.motifFin.errors ||
            dataClotureAffectation.controls.motifFin.touched" formControlName="motifFin" class="form-control" #motif>
            <option selected>Sélectionnez un des motifs proposés...</option>

            <option *ngFor="let motif of motifTrouve">{{ motif }}</option>

         </select>

      </div>

      <div class="form-group">
         <label for="datecloture"><strong>Date de clôture</strong></label>
         <input [class.isInvalid]="dataClotureAffectation.controls.dateFin.dirty && dataClotureAffectation.controls.dateFin.errors ||
        dataClotureAffectation.controls.dateFin.touched" type="date" id="datecloture" class="form-control"
            formControlName="dateFin" placeholder="Saisir la date de clôture" required>
      </div>
      <div>
         <dl>
            <dt id="alerte"> Attention : </dt>
            <dd>Toute clôture est définitive !</dd>
         </dl>
      </div>
      <div class="d-flex justify-content-center">
         <!-- <button class="btn btn-primary d-flex justify-content-center" type="submit" [disabled]="dataClotureAffectation.invalid">Soummettre la clôture</button> -->
         <button [disabled]="dataClotureAffectation.invalid" class="btn btn-primary d-flex justify-content-center"
            type="submit">Soummettre la clôture</button>
      </div>
      <!-- </div> -->
   </form>
</div>